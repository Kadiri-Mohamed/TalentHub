{% extends 'layouts/base.twig' %}

{% block title %}{{ offer.getTitle() }}{% endblock %}

{% block content %}
<div class="container-fluid">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3 mb-0">{{ offer.getTitle() }}</h1>
        <a href="/candidate/offers" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>Retour aux offres
        </a>
    </div>

    <!-- Offer Details -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body">

            <h5 class="card-subtitle text-muted mb-2">
                <i class="fas fa-building me-1"></i> {{ offer.getRecruiter().getName() }}
            </h5>

            <p class="text-muted mb-2">
                <i class="fas fa-map-marker-alt me-1"></i> {{ offer.getLocation() }}
            </p>

            <p class="text-muted mb-2">
                <i class="fas fa-briefcase me-1"></i> {{ offer.getContractType() }}
            </p>

            <p class="text-muted mb-2">
                Publiée le {{ offer.getCreatedAt()|date('d/m/Y') }}
            </p>

            <hr>

            <p>{{ offer.getDescription() }}</p>

            <hr>

            {% if hasApplied %}
                <div class="alert alert-success">
                    Vous avez déjà postulé à cette offre.
                </div>
            {% else %}
                <form method="POST" action="/candidate/offers/{{ offer.getId() }}/apply">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane me-2"></i>Postuler
                    </button>
                </form>
            {% endif %}

        </div>
    </div>

</div>
{% endblock %}
